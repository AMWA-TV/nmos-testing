# Testing IS-07 MQTT

When testing IS-07 MQTT implementations, there are some configuration issues to consider.

* The testing tool does not launch its own MQTT broker.
  The broker used by the node under test must be configured separately.
* Automatic discovery of the MQTT broker by nodes relies on an instance of the DNS-SD service type `_nmos-mqtt._tcp` being advertised.
  Therefore, when the `DNS_SD_MODE` configuration parameter is set to `'unicast'` to [test with unicast discovery](2.1.%20Usage%20-%20Testing%20Unicast%20Discovery.md),
  `ENABLE_MQTT_BROKER` may be set to `True` to add a broker to the testing tool's own mock DNS server.
  Each of the parameters which begins `MQTT_BROKER_` should be configured correctly.

The test suite must be able to connect to the broker(s) specified in each sender's active transport parameters and subscribe to the relevant topics.

* The test suite requires the broker to support MQTT version 5.
* The config parameters `MQTT_USERNAME` and `MQTT_PASSWORD` may be changed to specify authentication details for connecting to the broker.
