; These lines give the fully qualified DNS names to the IP addresses of the hosts which we'd like to discover
mocks.{{ domain }}.	IN	A	{{ ip_address }}
timeout.{{ domain }}.	IN	A	192.0.2.1

; There should be one PTR record for each instance of the service you wish to advertise.
_nmos-registration._tcp	PTR	reg-api-1-ver._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-1-ver._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-1-ver._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-1-proto._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-1-proto._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-1-proto._nmos-query._tcp

_nmos-registration._tcp	PTR	reg-api-2._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-2._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-2._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-3._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-3._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-3._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-4._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-4._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-4._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-5._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-5._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-5._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-timeout._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-timeout._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-timeout._nmos-query._tcp
_nmos-registration._tcp	PTR	reg-api-6._nmos-registration._tcp
_nmos-register._tcp	PTR	reg-api-6._nmos-register._tcp
_nmos-query._tcp	PTR	qry-api-6._nmos-query._tcp

; Next we have a SRV and a TXT record corresponding to each PTR above, first the Registration API
; The SRV links the PTR name to a resolvable DNS name (see the A records above) and identify the port which the API runs on
; The TXT records indicate additional metadata relevant to the IS-04 spec
reg-api-1-ver._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
reg-api-1-ver._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
reg-api-1-ver._nmos-registration._tcp	TXT	"api_ver=v9.0" "api_proto={{ api_proto }}" "pri=0"
reg-api-1-ver._nmos-register._tcp	TXT	"api_ver=v9.0" "api_proto={{ api_proto }}" "pri=0"
reg-api-1-proto._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
reg-api-1-proto._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
reg-api-1-proto._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto=invalid" "pri=0"
reg-api-1-proto._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto=invalid" "pri=0"

reg-api-2._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 2 }} mocks.{{ domain }}.
reg-api-2._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 2 }} mocks.{{ domain }}.
reg-api-2._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=0"
reg-api-2._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=0"
reg-api-3._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 3 }} mocks.{{ domain }}.
reg-api-3._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 3 }} mocks.{{ domain }}.
reg-api-3._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=10"
reg-api-3._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=10"
reg-api-4._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 4 }} mocks.{{ domain }}.
reg-api-4._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 4 }} mocks.{{ domain }}.
reg-api-4._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=20"
reg-api-4._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=20"
reg-api-5._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 5 }} mocks.{{ domain }}.
reg-api-5._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 5 }} mocks.{{ domain }}.
reg-api-5._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=30"
reg-api-5._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=30"
reg-api-timeout._nmos-registration._tcp	SRV	0 0 444 timeout.{{ domain }}.
reg-api-timeout._nmos-register._tcp	SRV	0 0 444 timeout.{{ domain }}.
reg-api-timeout._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=40"
reg-api-timeout._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=40"
reg-api-6._nmos-registration._tcp	SRV	0 0 {{ reg_port_base + 6 }} mocks.{{ domain }}.
reg-api-6._nmos-register._tcp	SRV	0 0 {{ reg_port_base + 6 }} mocks.{{ domain }}.
reg-api-6._nmos-registration._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=50"
reg-api-6._nmos-register._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=50"

; Finally, the SRV and TXT for the Query API
qry-api-1-ver._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
qry-api-1-ver._nmos-query._tcp	TXT	"api_ver=v9.0" "api_proto={{ api_proto }}" "pri=0"
qry-api-1-proto._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 1 }} mocks.{{ domain }}.
qry-api-1-proto._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto=invalid" "pri=0"

qry-api-2._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 2 }} mocks.{{ domain }}.
qry-api-2._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=0"
qry-api-3._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 3 }} mocks.{{ domain }}.
qry-api-3._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=10"
qry-api-4._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 4 }} mocks.{{ domain }}.
qry-api-4._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=20"
qry-api-5._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 5 }} mocks.{{ domain }}.
qry-api-5._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=30"
qry-api-timeout._nmos-query._tcp	SRV	0 0 444 timeout.{{ domain }}.
qry-api-timeout._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=40"
qry-api-6._nmos-query._tcp	SRV	0 0 {{ reg_port_base + 6 }} mocks.{{ domain }}.
qry-api-6._nmos-query._tcp	TXT	"api_ver={{ api_ver }}" "api_proto={{ api_proto }}" "pri=50"
